<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game: Malika Mart `Adad wal Ma'dud`</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FFF8E1; /* Warna krem lembut */
        }
        .font-amiri {
            font-family: 'Amiri', serif;
            direction: rtl; /* Teks Arab dari kanan ke kiri */
        }
        .game-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        .btn-option, .btn-group {
            transition: all 0.2s ease;
        }
        .btn-option:hover, .btn-group:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .correct {
            background-color: #22c55e !important; /* Hijau */
            color: white !important;
            border-color: #16a34a !important;
        }
        .incorrect {
            background-color: #ef4444 !important; /* Merah */
            color: white !important;
            border-color: #dc2626 !important;
        }
        #customer-img-container {
            width: 150px;
            height: 150px;
        }
        .speech-bubble {
            position: relative;
            background: #e2e8f0;
            border-radius: .4em;
        }
        .speech-bubble:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 0;
            border: 20px solid transparent;
            border-top-color: #e2e8f0;
            border-bottom: 0;
            border-left: 0;
            margin-left: -10px;
            margin-bottom: -20px;
        }
    </style>
</head>
<body class="bg-amber-50 flex items-center justify-center min-h-screen p-4">

    <div id="game-container" class="game-card w-full max-w-2xl p-6 md:p-8 text-center">
        <!-- Tampilan Awal -->
        <div id="start-screen">
            <img src="https://iili.io/FsLlXA7.png" alt="Logo Malika Mart" class="mx-auto mb-4 w-24 h-24">
            <h1 class="text-3xl md:text-4xl font-bold text-amber-600">Selamat Datang di <span class="text-green-600">Malika Arabic Game</span> `Adad wal Ma'dud!</h1>
            <p class="text-gray-600 mt-4 mb-8">Anda adalah santri durusul lughoh terbaik. Jawab dengan memilih jawaban yang tepat. Silakan pilih kelompokmu untuk memulai!</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <button onclick="startGame(1)" class="btn-group bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg">Kelompok 1 (Peralatan Sekolah)</button>
                <button onclick="startGame(2)" class="btn-group bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg">Kelompok 2 (Buah-buahan)</button>
                <button onclick="startGame(3)" class="btn-group bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg">Kelompok 3 (Hewan)</button>
                <button onclick="startGame(4)" class="btn-group bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg">Kelompok 4 (Di Dalam Rumah)</button>
                <button onclick="startGame(5)" class="btn-group bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg col-span-1 md:col-span-2">Kelompok 5 (Pakaian)</button>
            </div>
            
            <div id="scoreboard-container" class="mt-8 border-t-2 pt-6"></div>
            <button onclick="resetScores()" class="mt-4 bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg">Reset Semua Skor</button>
        </div>

        <!-- Tampilan Game Utama -->
        <div id="game-screen" class="hidden">
            <div class="flex justify-between items-center mb-4">
                <div><span class="font-bold text-lg" id="group-name"></span></div>
                <div class="text-lg font-semibold">Skor: <span id="score" class="text-amber-600 font-bold">0</span></div>
            </div>
             <div class="text-lg font-semibold mb-4">Soal <span id="question-counter">1</span> / <span id="total-questions">8</span></div>


            <div class="flex flex-col items-center justify-center space-y-4 my-6">
                 <div class="speech-bubble p-4 mb-6">
                    <p id="order-text" class="text-lg text-gray-800 font-semibold"></p>
                </div>
                <div id="customer-img-container" class="bg-gray-200 rounded-full flex items-center justify-center overflow-hidden">
                    <img id="order-image" src="" alt="Pesanan Pelanggan" class="w-24 h-24 object-contain">
                </div>
                <div class="mt-4">
                    <p class="text-gray-500">Bentuk tunggal (mufrad):</p>
                    <p id="singular-noun" class="font-amiri text-2xl font-bold text-green-700"></p>
                </div>
            </div>
            
            <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 font-amiri" id="question-title">Ù…ÙØ§ Ù‡ÙÙˆÙ Ø§Ù„ØµÙ‘ÙØ­ÙÙŠÙ’Ø­ÙØŸ</h2>
            
            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Opsi Jawaban akan ditambahkan oleh JavaScript -->
            </div>
            <div id="feedback" class="mt-6 text-xl font-bold"></div>
        </div>

        <!-- Tampilan Akhir -->
        <div id="end-screen" class="hidden">
            <h1 class="text-3xl md:text-4xl font-bold text-amber-600">Kerja Bagus, <span id="end-group-name"></span>!</h1>
             <img src="https://placehold.co/150x150/34D399/FFFFFF?text= Ù…Ù…ØªØ§Ø²" alt="Piala" class="my-6 mx-auto rounded-full">
            <p class="text-gray-600 mt-4 text-xl">Anda telah menyelesaikan semua tantangan!</p>
            <p class="text-2xl my-4">Skor Akhir Anda:</p>
            <p id="final-score" class="text-5xl font-bold text-amber-600 mb-8">0</p>

            <div id="end-scoreboard-container" class="my-8 border-t-2 pt-6"></div>

            <button onclick="showStartScreen()" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg">Pilih Kelompok Lain</button>
        </div>
    </div>

    <script>
        // --- Bank Soal ---
        const questionBank = {
            group1: {
                name: "Kelompok 1: Peralatan Sekolah",
                questions: [
                    { order: "Pesanan: 3 pulpen.", singular: "Ù‚ÙÙ„ÙÙ…ÙŒ", image: "https://placehold.co/100x100/0000FF/FFFFFF?text=Ø£Ù‚Ù„Ø§Ù…", options: ["Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù Ø£ÙÙ‚Ù’Ù„ÙØ§Ù…Ù", "Ø«ÙÙ„ÙØ§Ø«Ù Ø£ÙÙ‚Ù’Ù„ÙØ§Ù…Ù"], correct: "Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù Ø£ÙÙ‚Ù’Ù„ÙØ§Ù…Ù" },
                    { order: "Pesanan: 1 tas.", singular: "Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙŒ", image: "https://placehold.co/100x100/8B4513/FFFFFF?text=Ø­Ù‚ÙŠØ¨Ø©", options: ["Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ", "Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙŒ"], correct: "Ø­ÙÙ‚ÙÙŠÙ’Ø¨ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ" },
                    { order: "Pesanan: 5 buku tulis.", singular: "Ø¯ÙÙÙ’ØªÙØ±ÙŒ", image: "https://placehold.co/100x100/4682B4/FFFFFF?text=Ø¯ÙØ§ØªØ±", options: ["Ø®ÙÙ…Ù’Ø³Ù Ø¯ÙÙÙØ§ØªÙØ±Ù", "Ø®ÙÙ…Ù’Ø³ÙØ©Ù Ø¯ÙÙÙØ§ØªÙØ±Ù"], correct: "Ø®ÙÙ…Ù’Ø³ÙØ©Ù Ø¯ÙÙÙØ§ØªÙØ±Ù" },
                    { order: "Pesanan: 8 penggaris.", singular: "Ù…ÙØ³Ù’Ø·ÙØ±ÙØ©ÙŒ", image: "https://placehold.co/100x100/F0E68C/000000?text=Ù…Ø³Ø§Ø·Ø±", options: ["Ø«ÙÙ…ÙØ§Ù†ÙÙŠÙØ©Ù Ù…ÙØ³ÙØ§Ø·ÙØ±Ù", "Ø«ÙÙ…ÙØ§Ù†ÙÙŠ Ù…ÙØ³ÙØ§Ø·ÙØ±Ù"], correct: "Ø«ÙÙ…ÙØ§Ù†ÙÙŠ Ù…ÙØ³ÙØ§Ø·ÙØ±Ù" },
                    { order: "Pesanan: 2 meja.", singular: "Ù…ÙÙƒÙ’ØªÙØ¨ÙŒ", image: "https://placehold.co/100x100/A0522D/FFFFFF?text=Ù…ÙƒØªØ¨Ø§Ù†", options: ["Ù…ÙÙƒÙ’ØªÙØ¨ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù", "Ù…ÙÙƒÙ’ØªÙØ¨ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØªÙØ§Ù†Ù"], correct: "Ù…ÙÙƒÙ’ØªÙØ¨ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù" },
                    { order: "Pesanan: 4 kursi.", singular: "ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘ÙŒ", image: "https://placehold.co/100x100/964B00/FFFFFF?text=ÙƒØ±Ø§Ø³ÙŠ", options: ["Ø£ÙØ±Ù’Ø¨ÙØ¹ÙØ©Ù ÙƒÙØ±ÙØ§Ø³ÙÙŠÙ‘Ù", "Ø£ÙØ±Ù’Ø¨ÙØ¹Ù ÙƒÙØ±ÙØ§Ø³ÙÙŠÙ‘Ù"], correct: "Ø£ÙØ±Ù’Ø¨ÙØ¹ÙØ©Ù ÙƒÙØ±ÙØ§Ø³ÙÙŠÙ‘Ù" },
                    { order: "Pesanan: 7 penghapus.", singular: "Ù…ÙÙ…Ù’Ø­ÙØ§Ø©ÙŒ", image: "https://placehold.co/100x100/FFC0CB/000000?text=Ù…Ù…Ø§Ø­", options: ["Ø³ÙØ¨Ù’Ø¹Ù Ù…ÙÙ…ÙØ§Ø­Ù", "Ø³ÙØ¨Ù’Ø¹ÙØ©Ù Ù…ÙÙ…ÙØ§Ø­Ù"], correct: "Ø³ÙØ¨Ù’Ø¹Ù Ù…ÙÙ…ÙØ§Ø­Ù" },
                    { order: "Pesanan: 10 spidol.", singular: "Ù‚ÙÙ„ÙÙ…Ù Ø­ÙØ¨Ù’Ø±Ù", image: "https://placehold.co/100x100/000000/FFFFFF?text=Ø£Ù‚Ù„Ø§Ù… Ø­Ø¨Ø±", options: ["Ø¹ÙØ´ÙØ±Ù Ø£ÙÙ‚Ù’Ù„ÙØ§Ù…Ù Ø­ÙØ¨Ù’Ø±Ù", "Ø¹ÙØ´ÙØ±ÙØ©Ù Ø£ÙÙ‚Ù’Ù„ÙØ§Ù…Ù Ø­ÙØ¨Ù’Ø±Ù"], correct: "Ø¹ÙØ´ÙØ±ÙØ©Ù Ø£ÙÙ‚Ù’Ù„ÙØ§Ù…Ù Ø­ÙØ¨Ù’Ø±Ù" },
                ]
            },
            group2: {
                name: "Kelompok 2: Buah-buahan",
                questions: [
                    { order: "Pesanan: 6 apel.", singular: "ØªÙÙÙ‘ÙØ§Ø­ÙØ©ÙŒ", image: "https://placehold.co/100x100/FF0000/FFFFFF?text=ØªÙØ§Ø­Ø§Øª", options: ["Ø³ÙØªÙ‘Ù ØªÙÙÙ‘ÙØ§Ø­ÙØ§ØªÙ", "Ø³ÙØªÙ‘ÙØ©Ù ØªÙÙÙ‘ÙØ§Ø­ÙØ§ØªÙ"], correct: "Ø³ÙØªÙ‘Ù ØªÙÙÙ‘ÙØ§Ø­ÙØ§ØªÙ" },
                    { order: "Pesanan: 1 semangka.", singular: "Ø¨ÙØ·Ù‘ÙÙŠÙ’Ø®ÙØ©ÙŒ", image: "https://placehold.co/100x100/228B22/FFFFFF?text=Ø¨Ø·ÙŠØ®Ø©", options: ["Ø¨ÙØ·Ù‘ÙÙŠÙ’Ø®ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ", "Ø¨ÙØ·Ù‘ÙÙŠÙ’Ø®ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙŒ"], correct: "Ø¨ÙØ·Ù‘ÙÙŠÙ’Ø®ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ" },
                    { order: "Pesanan: 9 jeruk.", singular: "Ø¨ÙØ±Ù’ØªÙÙ‚ÙØ§Ù„ÙØ©ÙŒ", image: "https://placehold.co/100x100/FFA500/FFFFFF?text=Ø¨Ø±ØªÙ‚Ø§Ù„Ø§Øª", options: ["ØªÙØ³Ù’Ø¹ÙØ©Ù Ø¨ÙØ±Ù’ØªÙÙ‚ÙØ§Ù„ÙØ§ØªÙ", "ØªÙØ³Ù’Ø¹Ù Ø¨ÙØ±Ù’ØªÙÙ‚ÙØ§Ù„ÙØ§ØªÙ"], correct: "ØªÙØ³Ù’Ø¹Ù Ø¨ÙØ±Ù’ØªÙÙ‚ÙØ§Ù„ÙØ§ØªÙ" },
                    { order: "Pesanan: 4 pisang.", singular: "Ù…ÙÙˆÙ’Ø²ÙØ©ÙŒ", image: "https://placehold.co/100x100/FFFF00/000000?text=Ù…ÙˆØ²Ø§Øª", options: ["Ø£ÙØ±Ù’Ø¨ÙØ¹ÙØ©Ù Ù…ÙÙˆÙ’Ø²ÙØ§ØªÙ", "Ø£ÙØ±Ù’Ø¨ÙØ¹Ù Ù…ÙÙˆÙ’Ø²ÙØ§ØªÙ"], correct: "Ø£ÙØ±Ù’Ø¨ÙØ¹Ù Ù…ÙÙˆÙ’Ø²ÙØ§ØªÙ" },
                    { order: "Pesanan: 10 kurma.", singular: "ØªÙÙ…Ù’Ø±ÙØ©ÙŒ", image: "https://placehold.co/100x100/8B4513/FFFFFF?text=ØªÙ…Ø±Ø§Øª", options: ["Ø¹ÙØ´ÙØ±Ù ØªÙÙ…ÙØ±ÙØ§ØªÙ", "Ø¹ÙØ´Ù’Ø±ÙØ©Ù ØªÙÙ…ÙØ±ÙØ§ØªÙ"], correct: "Ø¹ÙØ´ÙØ±Ù ØªÙÙ…ÙØ±ÙØ§ØªÙ" },
                    { order: "Pesanan: 3 anggur.", singular: "Ø¹ÙÙ†ÙØ¨ÙŒ", image: "https://placehold.co/100x100/800080/FFFFFF?text=Ø£Ø¹Ù†Ø§Ø¨", options: ["Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù Ø£ÙØ¹Ù’Ù†ÙØ§Ø¨Ù", "Ø«ÙÙ„ÙØ§Ø«Ù Ø£ÙØ¹Ù’Ù†ÙØ§Ø¨Ù"], correct: "Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù Ø£ÙØ¹Ù’Ù†ÙØ§Ø¨Ù" },
                    { order: "Pesanan: 8 stroberi.", singular: "ÙÙØ±ÙØ§ÙˆÙÙ„ÙØ©ÙŒ", image: "https://placehold.co/100x100/FF4500/FFFFFF?text=ÙØ±Ø§ÙˆÙ„Ø§Øª", options: ["Ø«ÙÙ…ÙØ§Ù†ÙÙŠÙØ©Ù ÙÙØ±ÙØ§ÙˆÙÙ„ÙØ§ØªÙ", "Ø«ÙÙ…ÙØ§Ù†ÙÙŠ ÙÙØ±ÙØ§ÙˆÙÙ„ÙØ§ØªÙ"], correct: "Ø«ÙÙ…ÙØ§Ù†ÙÙŠ ÙÙØ±ÙØ§ÙˆÙÙ„ÙØ§ØªÙ" },
                    { order: "Pesanan: 2 mangga.", singular: "Ù…ÙØ§Ù†Ù’Ø¬ÙØ§", image: "https://placehold.co/100x100/FF8C00/FFFFFF?text=Ù…Ø§Ù†Ø¬ÙˆØ§Ù†", options: ["Ù…ÙØ§Ù†Ù’Ø¬ÙÙˆÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù", "Ù…ÙØ§Ù†Ù’Ø¬ÙÙˆÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØªÙØ§Ù†Ù"], correct: "Ù…ÙØ§Ù†Ù’Ø¬ÙÙˆÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù" },
                ]
            },
            group3: {
                name: "Kelompok 3: Hewan",
                questions: [
                    { order: "Pesanan: 5 kucing.", singular: "Ù‚ÙØ·Ù‘ÙØ©ÙŒ", image: "https://placehold.co/100x100/808080/FFFFFF?text=Ù‚Ø·Ø·", options: ["Ø®ÙÙ…Ù’Ø³Ù Ù‚ÙØ·ÙØ·Ù", "Ø®ÙÙ…Ù’Ø³ÙØ©Ù Ù‚ÙØ·ÙØ·Ù"], correct: "Ø®ÙÙ…Ù’Ø³Ù Ù‚ÙØ·ÙØ·Ù" },
                    { order: "Pesanan: 2 anjing.", singular: "ÙƒÙÙ„Ù’Ø¨ÙŒ", image: "https://placehold.co/100x100/D2691E/FFFFFF?text=ÙƒÙ„Ø¨Ø§Ù†", options: ["ÙƒÙÙ„Ù’Ø¨ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØªÙØ§Ù†Ù", "ÙƒÙÙ„Ù’Ø¨ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù"], correct: "ÙƒÙÙ„Ù’Ø¨ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù" },
                    { order: "Pesanan: 7 ikan.", singular: "Ø³ÙÙ…ÙÙƒÙØ©ÙŒ", image: "https://placehold.co/100x100/1E90FF/FFFFFF?text=Ø£Ø³Ù…Ø§Ùƒ", options: ["Ø³ÙØ¨Ù’Ø¹ÙØ©Ù Ø£ÙØ³Ù’Ù…ÙØ§ÙƒÙ", "Ø³ÙØ¨Ù’Ø¹Ù Ø£ÙØ³Ù’Ù…ÙØ§ÙƒÙ"], correct: "Ø³ÙØ¨Ù’Ø¹ÙØ©Ù Ø£ÙØ³Ù’Ù…ÙØ§ÙƒÙ" },
                    { order: "Pesanan: 1 burung.", singular: "Ø·ÙØ§Ø¦ÙØ±ÙŒ", image: "https://placehold.co/100x100/87CEEB/000000?text=Ø·Ø§Ø¦Ø±", options: ["Ø·ÙØ§Ø¦ÙØ±ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ", "Ø·ÙØ§Ø¦ÙØ±ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙŒ"], correct: "Ø·ÙØ§Ø¦ÙØ±ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙŒ" },
                    { order: "Pesanan: 9 ayam.", singular: "Ø¯ÙØ¬ÙØ§Ø¬ÙØ©ÙŒ", image: "https://placehold.co/100x100/FFD700/000000?text=Ø¯Ø¬Ø§Ø¬Ø§Øª", options: ["ØªÙØ³Ù’Ø¹Ù Ø¯ÙØ¬ÙØ§Ø¬ÙØ§ØªÙ", "ØªÙØ³Ù’Ø¹ÙØ©Ù Ø¯ÙØ¬ÙØ§Ø¬ÙØ§ØªÙ"], correct: "ØªÙØ³Ù’Ø¹Ù Ø¯ÙØ¬ÙØ§Ø¬ÙØ§ØªÙ" },
                    { order: "Pesanan: 3 gajah.", singular: "ÙÙÙŠÙ’Ù„ÙŒ", image: "https://placehold.co/100x100/C0C0C0/000000?text=Ø£ÙÙŠØ§Ù„", options: ["Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù Ø£ÙÙÙ’ÙŠÙØ§Ù„Ù", "Ø«ÙÙ„ÙØ§Ø«Ù Ø£ÙÙÙ’ÙŠÙØ§Ù„Ù"], correct: "Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù Ø£ÙÙÙ’ÙŠÙØ§Ù„Ù" },
                    { order: "Pesanan: 6 sapi.", singular: "Ø¨ÙÙ‚ÙØ±ÙØ©ÙŒ", image: "https://placehold.co/100x100/FFFFFF/000000?text=Ø¨Ù‚Ø±Ø§Øª", options: ["Ø³ÙØªÙ‘ÙØ©Ù Ø¨ÙÙ‚ÙØ±ÙØ§ØªÙ", "Ø³ÙØªÙ‘Ù Ø¨ÙÙ‚ÙØ±ÙØ§ØªÙ"], correct: "Ø³ÙØªÙ‘Ù Ø¨ÙÙ‚ÙØ±ÙØ§ØªÙ" },
                    { order: "Pesanan: 10 semut.", singular: "Ù†ÙÙ…Ù’Ù„ÙØ©ÙŒ", image: "https://placehold.co/100x100/000000/FFFFFF?text=Ù†Ù…Ù„Ø§Øª", options: ["Ø¹ÙØ´ÙØ±Ù Ù†ÙÙ…ÙÙ„ÙØ§ØªÙ", "Ø¹ÙØ´Ù’Ø±ÙØ©Ù Ù†ÙÙ…ÙÙ„ÙØ§ØªÙ"], correct: "Ø¹ÙØ´ÙØ±Ù Ù†ÙÙ…ÙÙ„ÙØ§ØªÙ" },
                ]
            },
            group4: {
                name: "Kelompok 4: Di Dalam Rumah",
                questions: [
                    { order: "Pesanan: 8 pintu.", singular: "Ø¨ÙØ§Ø¨ÙŒ", image: "https://placehold.co/100x100/8B4513/FFFFFF?text=Ø£Ø¨ÙˆØ§Ø¨", options: ["Ø«ÙÙ…ÙØ§Ù†ÙÙŠÙØ©Ù Ø£ÙØ¨Ù’ÙˆÙØ§Ø¨Ù", "Ø«ÙÙ…ÙØ§Ù†ÙÙŠ Ø£ÙØ¨Ù’ÙˆÙØ§Ø¨Ù"], correct: "Ø«ÙÙ…ÙØ§Ù†ÙÙŠÙØ©Ù Ø£ÙØ¨Ù’ÙˆÙØ§Ø¨Ù" },
                    { order: "Pesanan: 6 jendela.", singular: "Ù†ÙØ§ÙÙØ°ÙØ©ÙŒ", image: "https://placehold.co/100x100/ADD8E6/000000?text=Ù†ÙˆØ§ÙØ°", options: ["Ø³ÙØªÙ‘ÙØ©Ù Ù†ÙÙˆÙØ§ÙÙØ°Ù", "Ø³ÙØªÙ‘Ù Ù†ÙÙˆÙØ§ÙÙØ°Ù"], correct: "Ø³ÙØªÙ‘Ù Ù†ÙÙˆÙØ§ÙÙØ°Ù" },
                    { order: "Pesanan: 1 lemari.", singular: "Ø®ÙØ²ÙØ§Ù†ÙØ©ÙŒ", image: "https://placehold.co/100x100/DEB887/000000?text=Ø®Ø²Ø§Ù†Ø©", options: ["Ø®ÙØ²ÙØ§Ù†ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ", "Ø®ÙØ²ÙØ§Ù†ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙŒ"], correct: "Ø®ÙØ²ÙØ§Ù†ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ" },
                    { order: "Pesanan: 3 kunci.", singular: "Ù…ÙÙÙ’ØªÙØ§Ø­ÙŒ", image: "https://placehold.co/100x100/FFD700/000000?text=Ù…ÙØ§ØªÙŠØ­", options: ["Ø«ÙÙ„ÙØ§Ø«Ù Ù…ÙÙÙØ§ØªÙÙŠÙ’Ø­Ù", "Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù Ù…ÙÙÙØ§ØªÙÙŠÙ’Ø­Ù"], correct: "Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù Ù…ÙÙÙØ§ØªÙÙŠÙ’Ø­Ù" },
                    { order: "Pesanan: 10 bantal.", singular: "ÙˆÙØ³ÙØ§Ø¯ÙØ©ÙŒ", image: "https://placehold.co/100x100/F5F5DC/000000?text=ÙˆØ³Ø§Ø¦Ø¯", options: ["Ø¹ÙØ´Ù’Ø±ÙØ©Ù ÙˆÙØ³ÙØ§Ø¦ÙØ¯Ù", "Ø¹ÙØ´Ù’Ø±Ù ÙˆÙØ³ÙØ§Ø¦ÙØ¯Ù"], correct: "Ø¹ÙØ´Ù’Ø±Ù ÙˆÙØ³ÙØ§Ø¦ÙØ¯Ù" },
                    { order: "Pesanan: 4 kamar.", singular: "ØºÙØ±Ù’ÙÙØ©ÙŒ", image: "https://placehold.co/100x100/708090/FFFFFF?text=ØºØ±Ù", options: ["Ø£ÙØ±Ù’Ø¨ÙØ¹Ù ØºÙØ±ÙÙÙ", "Ø£ÙØ±Ù’Ø¨ÙØ¹ÙØ©Ù ØºÙØ±ÙÙÙ"], correct: "Ø£ÙØ±Ù’Ø¨ÙØ¹Ù ØºÙØ±ÙÙÙ" },
                    { order: "Pesanan: 9 lampu.", singular: "Ù…ÙØµÙ’Ø¨ÙØ§Ø­ÙŒ", image: "https://placehold.co/100x100/FFFFE0/000000?text=Ù…ØµØ§Ø¨ÙŠØ­", options: ["ØªÙØ³Ù’Ø¹ÙØ©Ù Ù…ÙØµÙØ§Ø¨ÙÙŠÙ’Ø­Ù", "ØªÙØ³Ù’Ø¹Ù Ù…ÙØµÙØ§Ø¨ÙÙŠÙ’Ø­Ù"], correct: "ØªÙØ³Ù’Ø¹ÙØ©Ù Ù…ÙØµÙØ§Ø¨ÙÙŠÙ’Ø­Ù" },
                    { order: "Pesanan: 2 tempat tidur.", singular: "Ø³ÙØ±ÙÙŠÙ’Ø±ÙŒ", image: "https://placehold.co/100x100/A52A2A/FFFFFF?text=Ø³Ø±ÙŠØ±Ø§Ù†", options: ["Ø³ÙØ±ÙÙŠÙ’Ø±ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØªÙØ§Ù†Ù", "Ø³ÙØ±ÙÙŠÙ’Ø±ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù"], correct: "Ø³ÙØ±ÙÙŠÙ’Ø±ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù" },
                ]
            },
            group5: {
                name: "Kelompok 5: Pakaian",
                questions: [
                    { order: "Pesanan: 4 kemeja.", singular: "Ù‚ÙÙ…ÙÙŠÙ’ØµÙŒ", image: "https://placehold.co/100x100/0000CD/FFFFFF?text=Ù‚Ù…ØµØ§Ù†", options: ["Ø£ÙØ±Ù’Ø¨ÙØ¹Ù Ù‚ÙÙ…Ù’ØµÙØ§Ù†Ù", "Ø£ÙØ±Ù’Ø¨ÙØ¹ÙØ©Ù Ù‚ÙÙ…Ù’ØµÙØ§Ù†Ù"], correct: "Ø£ÙØ±Ù’Ø¨ÙØ¹ÙØ©Ù Ù‚ÙÙ…Ù’ØµÙØ§Ù†Ù" },
                    { order: "Pesanan: 1 topi.", singular: "Ù‚ÙØ¨Ù‘ÙØ¹ÙØ©ÙŒ", image: "https://placehold.co/100x100/000000/FFFFFF?text=Ù‚Ø¨Ø¹Ø©", options: ["Ù‚ÙØ¨Ù‘ÙØ¹ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ", "Ù‚ÙØ¨Ù‘ÙØ¹ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙŒ"], correct: "Ù‚ÙØ¨Ù‘ÙØ¹ÙØ©ÙŒ ÙˆÙØ§Ø­ÙØ¯ÙØ©ÙŒ" },
                    { order: "Pesanan: 7 kaus kaki.", singular: "Ø¬ÙÙˆÙ’Ø±ÙØ¨ÙŒ", image: "https://placehold.co/100x100/FFFFFF/000000?text=Ø¬ÙˆØ§Ø±Ø¨", options: ["Ø³ÙØ¨Ù’Ø¹ÙØ©Ù Ø¬ÙÙˆÙØ§Ø±ÙØ¨Ù", "Ø³ÙØ¨Ù’Ø¹Ù Ø¬ÙÙˆÙØ§Ø±ÙØ¨Ù"], correct: "Ø³ÙØ¨Ù’Ø¹ÙØ©Ù Ø¬ÙÙˆÙØ§Ø±ÙØ¨Ù" },
                    { order: "Pesanan: 2 sepatu.", singular: "Ø­ÙØ°ÙØ§Ø¡ÙŒ", image: "https://placehold.co/100x100/4B0082/FFFFFF?text=Ø­Ø°Ø§Ø¡Ø§Ù†", options: ["Ø­ÙØ°ÙØ§Ø¡ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù", "Ø­ÙØ°ÙØ§Ø¡ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØªÙØ§Ù†Ù"], correct: "Ø­ÙØ°ÙØ§Ø¡ÙØ§Ù†Ù Ø§Ø«Ù’Ù†ÙØ§Ù†Ù" },
                    { order: "Pesanan: 9 celana.", singular: "Ø³ÙØ±Ù’ÙˆÙØ§Ù„ÙŒ", image: "https://placehold.co/100x100/191970/FFFFFF?text=Ø³Ø±Ø§ÙˆÙŠÙ„", options: ["ØªÙØ³Ù’Ø¹Ù Ø³ÙØ±ÙØ§ÙˆÙÙŠÙ’Ù„Ù", "ØªÙØ³Ù’Ø¹ÙØ©Ù Ø³ÙØ±ÙØ§ÙˆÙÙŠÙ’Ù„Ù"], correct: "ØªÙØ³Ù’Ø¹ÙØ©Ù Ø³ÙØ±ÙØ§ÙˆÙÙŠÙ’Ù„Ù" },
                    { order: "Pesanan: 3 gaun.", singular: "ÙÙØ³Ù’ØªÙØ§Ù†ÙŒ", image: "https://placehold.co/100x100/FF69B4/FFFFFF?text=ÙØ³Ø§ØªÙŠÙ†", options: ["Ø«ÙÙ„ÙØ§Ø«Ù ÙÙØ³ÙØ§ØªÙÙŠÙ’Ù†Ù", "Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù ÙÙØ³ÙØ§ØªÙÙŠÙ’Ù†Ù"], correct: "Ø«ÙÙ„ÙØ§Ø«ÙØ©Ù ÙÙØ³ÙØ§ØªÙÙŠÙ’Ù†Ù" },
                    { order: "Pesanan: 8 rok.", singular: "ØªÙÙ†Ù‘ÙÙˆÙ’Ø±ÙØ©ÙŒ", image: "https://placehold.co/100x100/DB7093/FFFFFF?text=ØªÙ†Ø§Ù†ÙŠØ±", options: ["Ø«ÙÙ…ÙØ§Ù†ÙÙŠ ØªÙÙ†ÙØ§Ù†ÙÙŠÙ’Ø±Ù", "Ø«ÙÙ…ÙØ§Ù†ÙÙŠÙØ©Ù ØªÙÙ†ÙØ§Ù†ÙÙŠÙ’Ø±Ù"], correct: "Ø«ÙÙ…ÙØ§Ù†ÙÙŠ ØªÙÙ†ÙØ§Ù†ÙÙŠÙ’Ø±Ù" },
                    { order: "Pesanan: 5 jaket.", singular: "Ø³ÙØªÙ’Ø±ÙØ©ÙŒ", image: "https://placehold.co/100x100/2F4F4F/FFFFFF?text=Ø³ØªØ±", options: ["Ø®ÙÙ…Ù’Ø³ÙØ©Ù Ø³ÙØªÙØ±Ù", "Ø®ÙÙ…Ù’Ø³Ù Ø³ÙØªÙØ±Ù"], correct: "Ø®ÙÙ…Ù’Ø³Ù Ø³ÙØªÙØ±Ù" },
                ]
            },
        };

        // --- Variabel Game & Papan Skor ---
        let currentQuestionIndex = 0;
        let score = 0;
        let currentQuestions = [];
        let currentGroupName = "";

        let groupScores = {
            "Kelompok 1: Peralatan Sekolah": { name: "Kelompok 1: Peralatan Sekolah", score: 0 },
            "Kelompok 2: Buah-buahan": { name: "Kelompok 2: Buah-buahan", score: 0 },
            "Kelompok 3: Hewan": { name: "Kelompok 3: Hewan", score: 0 },
            "Kelompok 4: Di Dalam Rumah": { name: "Kelompok 4: Di Dalam Rumah", score: 0 },
            "Kelompok 5: Pakaian": { name: "Kelompok 5: Pakaian", score: 0 },
        };

        // --- Elemen DOM ---
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const endScreen = document.getElementById('end-screen');
        const scoreDisplay = document.getElementById('score');
        const groupNameDisplay = document.getElementById('group-name');
        const endGroupNameDisplay = document.getElementById('end-group-name');
        const questionCounter = document.getElementById('question-counter');
        const totalQuestions = document.getElementById('total-questions');
        const orderText = document.getElementById('order-text');
        const orderImage = document.getElementById('order-image');
        const singularNounDisplay = document.getElementById('singular-noun');
        const optionsContainer = document.getElementById('options-container');
        const feedback = document.getElementById('feedback');
        const finalScore = document.getElementById('final-score');
        const scoreboardContainer = document.getElementById('scoreboard-container');
        const endScoreboardContainer = document.getElementById('end-scoreboard-container');
        
        // --- Fungsi Papan Skor ---
        function updateScoreboardDisplay(container) {
            container.innerHTML = '<h2 class="text-2xl font-bold text-gray-700 mb-4">Papan Skor Tertinggi</h2>';

            const sortedScores = Object.values(groupScores).sort((a, b) => b.score - a.score);

            const list = document.createElement('div');
            list.className = 'space-y-2 text-left';

            sortedScores.forEach((group, index) => {
                const item = document.createElement('div');
                item.className = 'flex justify-between items-center p-3 rounded-lg text-sm md:text-base';
                
                let medal = '';
                if (index === 0 && group.score > 0) {
                    medal = 'ğŸ¥‡';
                    item.classList.add('bg-amber-100');
                } else if (index === 1 && group.score > 0) {
                    medal = 'ğŸ¥ˆ';
                    item.classList.add('bg-gray-200');
                } else if (index === 2 && group.score > 0) {
                    medal = 'ğŸ¥‰';
                    item.classList.add('bg-orange-100');
                } else {
                    item.classList.add('bg-gray-100');
                }

                item.innerHTML = `
                    <span class="font-semibold text-gray-800">${medal} ${group.name.replace(/:\s.*$/, '')}</span>
                    <span class="font-bold text-lg text-amber-700">${group.score}</span>
                `;
                list.appendChild(item);
            });
            container.appendChild(list);
        }

        // --- Fungsi-fungsi Game ---
        function resetScores() {
            for (const key in groupScores) {
                groupScores[key].score = 0;
            }
            updateScoreboardDisplay(scoreboardContainer);
            updateScoreboardDisplay(endScoreboardContainer);
        }

        function startGame(groupNumber) {
            currentQuestionIndex = 0;
            score = 0;
            const selectedGroupKey = 'group' + groupNumber;
            const selectedGroup = questionBank[selectedGroupKey];
            
            currentGroupName = selectedGroup.name;
            currentQuestions = selectedGroup.questions.sort(() => Math.random() - 0.5); // Acak soal
            
            totalQuestions.textContent = currentQuestions.length;
            groupNameDisplay.textContent = currentGroupName;

            startScreen.classList.add('hidden');
            endScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');

            loadQuestion();
        }

        function loadQuestion() {
            resetState();
            if (currentQuestionIndex >= currentQuestions.length) {
                endGame();
                return;
            }

            const currentQuestion = currentQuestions[currentQuestionIndex];
            
            scoreDisplay.textContent = score;
            questionCounter.textContent = currentQuestionIndex + 1;
            orderText.textContent = currentQuestion.order;
            orderImage.src = currentQuestion.image;
            singularNounDisplay.textContent = currentQuestion.singular;

            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.innerHTML = option;
                button.classList.add('btn-option', 'w-full', 'font-amiri', 'text-2xl', 'p-4', 'border-2', 'border-amber-300', 'rounded-lg', 'bg-white', 'text-gray-800', 'hover:bg-amber-100');
                button.addEventListener('click', () => selectAnswer(button, option, currentQuestion.correct));
                optionsContainer.appendChild(button);
            });
        }

        function resetState() {
            feedback.textContent = '';
            while (optionsContainer.firstChild) {
                optionsContainer.removeChild(optionsContainer.firstChild);
            }
        }

        function selectAnswer(button, selectedOption, correctAnswer) {
            const allButtons = optionsContainer.querySelectorAll('button');
            allButtons.forEach(btn => {
                btn.disabled = true;
                if (btn.innerHTML === correctAnswer) {
                    btn.classList.add('correct');
                }
            });

            if (selectedOption === correctAnswer) {
                score += 10;
                feedback.textContent = "Jawaban Tepat! (ØµÙØ­ÙÙŠÙ’Ø­ÙŒ)";
                feedback.classList.add('text-green-500');
                feedback.classList.remove('text-red-500');
                button.classList.add('correct');
            } else {
                feedback.textContent = "Kurang Tepat! (Ø®ÙØ·ÙØ£ÙŒ)";
                feedback.classList.add('text-red-500');
                feedback.classList.remove('text-green-500');
                button.classList.add('incorrect');
            }
            
            scoreDisplay.textContent = score;

            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 2000); 
        }
        
        function endGame() {
            gameScreen.classList.add('hidden');
            endScreen.classList.remove('hidden');
            finalScore.textContent = score;
            endGroupNameDisplay.textContent = currentGroupName;

            // Update skor tertinggi jika skor saat ini lebih besar
            if (score > groupScores[currentGroupName].score) {
                groupScores[currentGroupName].score = score;
            }
            updateScoreboardDisplay(endScoreboardContainer);
        }

        function showStartScreen() {
            endScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            updateScoreboardDisplay(scoreboardContainer);
        }

        // --- Panggil Papan Skor Saat Pertama Kali Membuka ---
        window.onload = () => {
            updateScoreboardDisplay(scoreboardContainer);
        };

    </script>
</body>
</html>

